(this.webpackJsonpbudget_wc=this.webpackJsonpbudget_wc||[]).push([[0],{100:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(23),i=a.n(o),c=(a(83),a(84),a(12)),s=a(13),l=a(25),u=a(21),d=a(20),h=(a(57),a(122)),m=a(72),f=a(18),b=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).callbacks={getWordTooltip:function(t){return"".concat(t.text," has $").concat(Object(f.KMFormat)(t.value)," in the category.")},onWordClick:n.getCallback("onWordClick").bind(Object(l.a)(n)),onWordMouseOut:n.getCallback("onWordMouseOut").bind(Object(l.a)(n)),onWordMouseOver:n.getCallback("onWordMouseOver").bind(Object(l.a)(n))},n.options={fontFamily:"impact",fontSizes:[5,60],fontStyle:"normal",fontWeight:"normal",scale:"log",deterministic:!0,rotations:4,rotationAngles:[-45,90],transitionDuration:200},n.state={words:[{text:"Loading...",value:100}]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dataLoader.addWordsCallback(this.setWords.bind(this))}},{key:"render",value:function(){return r.a.createElement(m.a,{style:this.props.style,callbacks:this.callbacks,words:this.state.words,options:this.options})}},{key:"getCallback",value:function(t){return function(e,a){var n=this,r="onWordMouseOut"!==t,o=a.target;Object(h.a)(o).on("click",(function(){r&&n.props.keywordList.addWord(e.text)})).transition().attr("background","white").attr("text-decoration",r?"underline":"none")}}},{key:"setWords",value:function(t){this.setState({words:t})}}]),a}(n.Component),p=a(101),v=a(123),y=a(124),k=a(125),g=a(126),O=a(127),j=a(128),E=a(129),w=a(135),C=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).state={records:[],order:"asc",orderBy:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.dataLoader.addRecordCallback(this.setRecords.bind(this))}},{key:"setRecords",value:function(t){this.setState({records:t,order:"asc",orderBy:null})}},{key:"handleRequestSort",value:function(t,e){var a=this.state.orderBy===e&&"asc"===this.state.order,n=this.state.orderBy===e&&"desc"===this.state.order;this.setState({order:a?"desc":"asc",orderBy:n?null:e})}},{key:"render",value:function(){return r.a.createElement(p.a,{style:this.props.style},r.a.createElement(v.a,{style:{height:"100%"}},r.a.createElement(y.a,{stickyHeader:!0,size:"small","aria-label":"Transaction Records"},r.a.createElement(W,{order:this.state.order,orderBy:this.state.orderBy,onRequestSort:this.handleRequestSort.bind(this)}),r.a.createElement(k.a,null,this.stableSort(this.state.records).map((function(t,e){return r.a.createElement(g.a,{key:e},r.a.createElement(O.a,null,new Date(1e3*t.date).toDateString()),r.a.createElement(O.a,null,t.department),r.a.createElement(O.a,null,t.description),r.a.createElement(O.a,null,Object(f.commaFormat)(t.amount)))}))),r.a.createElement(j.a,{style:{position:"sticky",bottom:0,backgroundColor:"#fafafa",borderTop:1,borderTopColor:"#e0e0e0"}},r.a.createElement(g.a,null,r.a.createElement(O.a,null),r.a.createElement(O.a,null),r.a.createElement(O.a,{align:"right"},"Total: "),r.a.createElement(O.a,null,Object(f.commaFormat)(this.state.records.reduce((function(t,e){return t+e.amount}),0))))))))}},{key:"getComparator",value:function(){var t=this,e=function(t,e,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0};return null===this.state.orderBy?null:"asc"===this.state.order?function(a,n){return e(a,n,t.state.orderBy)}:function(a,n){return-e(a,n,t.state.orderBy)}}},{key:"stableSort",value:function(t){var e=this.getComparator();if(null===e)return t;var a=t.map((function(t,e){return[t,e]}));return a.sort((function(t,a){var n=e(t[0],a[0]);return 0!==n?n:t[1]-a[1]})),a.map((function(t){return t[0]}))}}]),a}(n.Component),L=[{id:"date",label:"Date"},{id:"department",label:"Department"},{id:"description",label:"Description"},{id:"amount",label:"Amount"}],W=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"createSortHandler",value:function(t){var e=this;return function(a){return e.props.onRequestSort(a,t)}}},{key:"render",value:function(){var t=this;return r.a.createElement(E.a,null,r.a.createElement(g.a,null,L.map((function(e){return r.a.createElement(O.a,{key:e.id,sortDirection:t.props.orderBy===e.id&&t.props.order},r.a.createElement(w.a,{active:t.props.orderBy===e.id,direction:t.props.orderBy===e.id?t.props.order:"asc",onClick:t.createSortHandler(e.id)},e.label))}))))}}]),a}(n.Component),S=a(134),B=a(102),M=a(130),x=function(t){Object(u.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).props.dataLoader.addAmountCallback((function(t){return n.changeList(t)})),n.state={numList:0,amounts:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t=this;console.log(this.state.numList,this.state.amounts);var e=this.props.keywordList.getList();return r.a.createElement(S.a,{separator:">",style:this.props.style},r.a.createElement(M.a,{color:"textPrimary",onClick:function(){return t.props.keywordList.reset()}},"Transactions(",this.state.amounts[0],")"),e.slice(0,-1).map((function(e,a){return r.a.createElement(M.a,{color:"textSecondary",onClick:function(){return t.props.keywordList.sliceWord(e)}},e,"(",t.state.amounts[a+1],")")})),e.length>0?r.a.createElement(B.a,{color:"textPrimary"},e[e.length-1],"(",this.state.amounts[e.length],")"):null)}},{key:"changeList",value:function(t){for(var e=this.props.keywordList.getList().length,a=this.state.amounts;a.length<e+1;)a=a.concat("");a.length>e+1&&(a=a.slice(0,e+1)),a[e]=Object(f.KMFormat)(t),this.setState({numList:e,amounts:a})}}]),a}(n.Component),R=function(){function t(){Object(c.a)(this,t),this.list=[],this.callback=[]}return Object(s.a)(t,[{key:"addChangeCallback",value:function(t){this.callback.push(t)}},{key:"addWord",value:function(t){var e=this;this.list.includes(t)||(this.list.push(t),this.callback.forEach((function(t){return t(e.list)})))}},{key:"sliceWord",value:function(t){var e=this,a=this.list.indexOf(t);-1!==a&&(this.list=this.list.slice(0,a+1),this.callback.forEach((function(t){return t(e.list)})))}},{key:"reset",value:function(){var t=this;this.list=[],this.callback.forEach((function(e){return e(t.list)}))}},{key:"getList",value:function(){return this.list}}]),t}(),D=a(8),F=a(30),P=function(){function t(e,a){var n=this;Object(c.a)(this,t),Object.defineProperty(this,T,{writable:!0,value:null}),Object.defineProperty(this,_,{writable:!0,value:[]}),Object.defineProperty(this,N,{writable:!0,value:[]}),Object.defineProperty(this,A,{writable:!0,value:[]}),Object.defineProperty(this,q,{writable:!0,value:void 0}),fetch(e).then((function(t){return t.json()})).then((function(t){Object(D.a)(n,T)[T]=t,n.listChangeCallback()})),Object(D.a)(this,q)[q]=a,a.addChangeCallback((function(){return n.listChangeCallback()}))}return Object(s.a)(t,[{key:"listChangeCallback",value:function(){var t=this.getRecords(Object(D.a)(this,q)[q].getList());Object(D.a)(this,_)[_].forEach((function(e){return e(t)}));var e=this.getTotal(t);Object(D.a)(this,A)[A].forEach((function(t){return t(e)}));var a=this.getWordList(t);Object(D.a)(this,N)[N].forEach((function(t){return t(a)}))}},{key:"addRecordCallback",value:function(t){Object(D.a)(this,_)[_].push(t)}},{key:"addWordsCallback",value:function(t){Object(D.a)(this,N)[N].push(t)}},{key:"addAmountCallback",value:function(t){Object(D.a)(this,A)[A].push(t)}},{key:"getRecords",value:function(t){return null===Object(D.a)(this,T)[T]?[{date:"",department:"",description:"Loading...",amount:""}]:null===t||t===[]?Object(D.a)(this,T)[T]:Object(D.a)(this,T)[T].filter((function(e){return t.map((function(t){return e.words.includes(t)})).reduce((function(t,e){return t&&e}),!0)}))}},{key:"getWordList",value:function(t){if(null===Object(D.a)(this,T)[T])return[{text:"Loading...",value:100}];var e={};t.forEach((function(t){t.words.forEach((function(a){void 0===e[a]?e[a]=t.amount:e[a]+=t.amount}))}));var a=[];for(var n in e)a.push({text:n,value:e[n]});return a.sort((function(t,e){return t.value-e.value})),a}},{key:"getTotal",value:function(t){return t.reduce((function(t,e){return t+e.amount}),0)}}]),t}(),T=Object(F.a)("data"),_=Object(F.a)("records_callbacks"),N=Object(F.a)("words_callbacks"),A=Object(F.a)("amount_callbacks"),q=Object(F.a)("keywordList"),K=a(131),H=a(132),z=a(133),J=a(71),$=a.n(J);function I(){return r.a.createElement(K.a,{position:"sticky"},r.a.createElement(H.a,null,r.a.createElement(z.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement($.a,null)),r.a.createElement(B.a,{variant:"h6"},"USAC Budget/Spendings 2018-2019")))}var U=function(){var t=new R,e=new P(window.location.pathname+"/expense_summary.json",t);return r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement(p.a,{variant:"outlined",className:"App",style:{margin:"0 10%"}},r.a.createElement(x,{style:{margin:10},keywordList:t,dataLoader:e}),r.a.createElement(b,{style:{width:"100%",height:"80vh"},keywordList:t,dataLoader:e}),r.a.createElement(C,{style:{height:"80vh"},dataLoader:e})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},18:function(t,e,a){"use strict";e.__esModule=!0,e.commaFormat=function(t){if(Number.isNaN(t))return"";var e=t.toFixed(2).split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")},e.KMFormat=function(t){if(Number.isNaN(t))return"";var e="";return t>=1e6?(e="M",t/=1e6):t>=1e3&&(e="K",t/=1e3),t.toPrecision(3)+e}},78:function(t,e,a){t.exports=a(100)},83:function(t,e,a){},84:function(t,e,a){},94:function(t,e){}},[[78,1,2]]]);
//# sourceMappingURL=main.c2287f57.chunk.js.map